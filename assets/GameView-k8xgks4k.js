import{d as y,o as u,c as f,a as t,t as m,b as E,r as s,w as A,e as P,n as J,Q as O,_ as H,u as T,f as Q,g as I,F as N,h as Y,i as U,j as V,k as r,l as M,m as C,I as G,p as Z,q as K,s as w,v as $,x as b,y as W,z as L,A as z,B as X,C as ee,D as te,E as ae,G as se,H as R,J as le}from"./index-BVxs06sd.js";const ie="/wannapo-game/assets/bottom-bear-CpjjDp3D.webp",oe={xmlns:"http://www.w3.org/2000/svg",class:"fill-moon-raker stroke-moon-raker-50 stroke-[1rem]",viewBox:"0 0 424.291 312.031"},ne=E('<defs><clipPath clipPathUnits="userSpaceOnUse" id="a"><path d="M0 1920h1080V0H0Z" transform="translate(-991.01 -142.849)"></path></clipPath></defs><g clip-path="url(#a)" transform="matrix(1.33333 0 0 -1.33333 882.039 206.038)"><path d="M-352.41 31.152c.637 28.87-22.947 55.567-51.648 58.58-11.891 28.627-48.565 42.674-76.536 29.38-8.961.507-15.9 16.816-27.32 19.51-30.002 15.746-70.765 2.576-85.673-27.96-8.169-11.457-1.316-31.151-20.237-29.844-30.645-10.3-47.224-48.292-33.804-77.748 10.2-25.459 39.808-40.764 66.466-34.389 16.188-17.166 44.372-20.657 64.308-8.113 22.021-30.977 68.204-40.326 100.48-20.14 15.982 8.444 25.822 24.778 34.16 39.423 18.174 10.2 30.014 30.431 29.803 51.301z"></path></g><text x="50%" y="35%" class="fill-moon-raker-50 stroke-moon-raker" dominant-baseline="middle" text-anchor="middle" font-size="5rem" stroke-width=".1rem"> Pares </text>',3),re={x:"50%",y:"60%","alignment-baseline":"baseline",class:"fill-moon-raker-50 stroke-moon-raker","dominant-baseline":"middle","text-anchor":"middle","font-size":"5rem","stroke-width":".1rem"},ce={class:"fill-moon-raker-600"},de={class:"fill-moon-raker-50"},ue=y({__name:"PairCounter",props:{pairCount:{},maxPairs:{}},setup(l){const e=l;return(i,o)=>(u(),f("svg",oe,[ne,t("text",re,[t("tspan",ce,m(i.pairCount),1),t("tspan",de,"/"+m(e.maxPairs),1)])]))}}),pe=["src"],fe=y({__name:"GameTile",props:{tile:{}},setup(l){const e=l,i=s(null),o=s(null),c=s(null);return A(()=>e.tile.isRevealed,a=>{console.log(a)}),(a,d)=>(u(),f("div",{class:J(["w-20 h-20 text-seagull-50 rounded-md outline outline-8 outline-seagull-50 shadow-xl shadow-endeavour-500",{"bg-seagull":e.tile.variant==="alt","bg-endeavour":e.tile.variant==="default","outline-red-700":e.tile.isRevealed}]),ref_key:"tileRef",ref:i},[e.tile.isRevealed?(u(),f("img",{key:1,src:e.tile.image,class:"w-full h-full",ref_key:"image",ref:o},null,8,pe)):(u(),P(O,{key:0,class:"m-6 fill-seagull-50",ref_key:"qLogoRef",ref:c},null,512))],2))}}),me=H(fe,[["__scopeId","data-v-7a18771a"]]),he=y({__name:"GameBoard",props:{attempts:{},attemptsModifiers:{},pairsFound:{},pairsFoundModifiers:{}},emits:["update:attempts","update:pairsFound"],setup(l){const e=s(null),i=T(l,"attempts"),o=T(l,"pairsFound"),c=s([{id:1,variant:"default",matchValue:1,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:2,variant:"alt",matchValue:1,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:3,variant:"default",matchValue:2,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:4,variant:"alt",matchValue:2,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:5,variant:"default",matchValue:3,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:6,variant:"alt",matchValue:3,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:7,variant:"default",matchValue:4,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:8,variant:"alt",matchValue:4,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:9,variant:"default",matchValue:5,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:10,variant:"alt",matchValue:5,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:11,variant:"default",matchValue:6,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"},{id:12,variant:"alt",matchValue:6,isRevealed:!1,isMatched:!1,image:"https://picsum.photos/200"}]),a=s([]),d=Q(()=>c.value.filter(n=>n.isRevealed&&!n.isMatched)),p=n=>{n.isRevealed||n.isMatched||(d.value.length>1&&d.value.forEach(h=>{h.isRevealed=!1}),n.isRevealed=!0,d.value.length===2&&(i.value=(i.value||0)+1,d.value[0].matchValue===d.value[1].matchValue&&(d.value.forEach(h=>{h.isMatched=!0}),o.value=(o.value||0)+1)))};return A(o,n=>{console.log("congrats")}),I(()=>{}),(n,h)=>{const v=U("motion");return u(),f("div",{class:"max-w-96 w-full h-full grid grid-cols-3 grid-rows-4 justify-items-center place-items-center gap-10",ref_key:"boardElement",ref:e},[(u(!0),f(N,null,Y(c.value,(g,F)=>V((u(),P(me,{key:g.id,tile:g,onClick:k=>p(g),initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:F*100}},ref_for:!0,ref_key:"gameTilesRefs",ref:a},null,8,["tile","onClick","enter"])),[[v]])),128))],512)}}}),ve={class:"transition h-auto text-xl shadow-md outline outline-4 outline-white bg-gradient-to-t from-seagull from-5% via-ebb-500 via-50% to-ebb-500 to-90% text-endeavour rounded-full px-4 py-2 flex flex-row gap-2 justify-center items-center"},_e=y({__name:"Badge",setup(l){return(e,i)=>(u(),f("div",ve,[r(M(G),{class:"w-4 h-4 -rotate-45 text-light-orchid"}),C(e.$slots,"default"),r(M(G),{class:"w-4 h-4 rotate-45 text-light-orchid"})]))}}),ge={},xe={viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--noto",preserveAspectRatio:"xMidYMid meet",fill:"#000000"},we=E('<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M118 60.5l3.48 53.01a7.501 7.501 0 0 1-7.49 7.99H14.01c-4.34 0-7.77-3.67-7.49-7.99L10 60.5c3-34 24.18-54 54-54s50 24 54 54z" fill="#CBD7F5"></path><circle cx="64" cy="60.5" r="40" fill="#ffffff"></circle><circle cx="64" cy="60.5" r="40" fill="#ffffff"></circle><path d="M64 20.5c22.09 0 40 17.91 40 40s-17.91 40-40 40s-40-17.91-40-40s17.91-40 40-40m0-3c-23.71 0-43 19.29-43 43s19.29 43 43 43s43-19.29 43-43s-19.29-43-43-43z" fill="#7D6B5F"></path><g fill="none" stroke="#7D6B5F" stroke-width="3" stroke-miterlimit="10"><path d="M64 18.5v8.23"></path><path d="M64 94.27v8.23"></path><path d="M106 60.5h-8.23"></path><path d="M30.23 60.5H22"></path><path d="M64 18.5v8.23"></path><path d="M64 94.27v8.23"></path><path d="M43 24.13l4.11 7.12"></path><path d="M80.89 89.75L85 96.87"></path><g><path d="M43 24.13l4.11 7.12"></path><path d="M80.89 89.75L85 96.87"></path></g><g><path d="M27.63 39.5l7.12 4.11"></path><path d="M93.25 77.39l7.12 4.11"></path></g><g><path d="M85 24.13l-4.11 7.12"></path><path d="M47.11 89.75L43 96.87"></path></g><g><path d="M100.37 39.5l-7.12 4.11"></path><path d="M34.75 77.39l-7.12 4.11"></path></g></g><path d="M64 91.5c-7.18 0-13-5.82-13-13v-35c0-7.18 5.82-13 13-13s13 5.82 13 13v35c0 7.18-5.82 13-13 13z" fill="#DDA6CC"></path><path d="M76.88 42.67c-.55-5.58-3.31-8.85-8.11-11.41c-.5-.27-1.05-.54-1.61-.45c0 0-1.17 42.34-1.17 46.53c0 4.54-.38 9.74-5.56 11.32c-.93.28-1.93.41-2.71.98c3.56 3.1 9.27 2.63 13.12-.09C72.96 88.06 77 85.5 77 74.5" opacity=".52" fill="#7D6B5F"></path><path d="M31.58 97.55c.1.1.2.2.3.31c5.02 5.19 11.56 8.68 16.82 13.62c-2.88.99-6.05.33-8.96-.55c-10.89-3.31-21.21-10.15-26.19-20.39c-1.19-2.44-2.07-5.12-1.83-7.82c.13-1.5.73-3.13 2.1-3.78c1.19-.57 2.67-.21 3.74.56c2.62 1.88 3.91 5.96 5.84 8.55c2.49 3.35 5.28 6.48 8.18 9.5z" fill="#FEFEFF"></path><path d="M109.3 84.9c-7.63 13.26-20.53 23.52-35.33 27.52c3.37 4.12 18.9 3.22 29.97-5.1s14.84-30.31 12.47-37.07c-1.16.33-1.64 1.67-1.99 2.82c-1.24 4.13-2.97 8.1-5.12 11.83z" opacity=".5" fill="#4B71DC"></path><g><path fill="#ff4638" d="M63.5 16.5l-5-10h11z"></path></g></g>',3),ye=[we];function ke(l,e){return u(),f("svg",xe,ye)}const Me=H(ge,[["render",ke]]),Re={key:0,class:"w-full h-full fixed top-0 left-0 z-30 flex flex-col justify-center items-center"},Ce={class:"w-full h-full fixed top-0 left-0 bg-endeavour-600/50",initial:{opacity:0},enter:{opacity:1},leave:{opacity:0}},$e={class:"w-full p-6"},be={class:"text-3xl text-endeavour"},Fe={class:"w-full p-6"},Ve={class:"w-full p-6 flex flex-row justify-center items-center"},Be=y({__name:"ModalDialog",props:{isOpen:{type:Boolean,default:!1},title:{default:"Alerta"},message:{default:""},onConfirm:{type:Function,default:()=>{}},onCancel:{type:Function,default:()=>{}},confirmText:{default:"Aceptar"},cancelText:{default:"Cancelar"}},emits:["on:modalClose"],setup(l,{emit:e}){const i=e,o=s(null);Z(o,()=>{i("on:modalClose")});const c=()=>{i("on:modalClose")};return(a,d)=>{const p=U("motion");return a.isOpen?(u(),f("div",Re,[V(t("div",Ce,null,512),[[p]]),V((u(),f("div",{ref_key:"target",ref:o,class:"flex flex-col bg-seagull-200 rounded-2xl z-40 shadow-2xl",initial:{opacity:0,scale:0},enter:{opacity:1,scale:1,transition:{delay:500,duration:500,type:"spring"}},leave:{opacity:0}},[t("div",$e,[C(a.$slots,"header",{},()=>[t("h1",be,m(a.title),1)])]),t("div",Fe,[C(a.$slots,"content",{},()=>[t("p",null,m(a.message),1)])]),t("div",Ve,[C(a.$slots,"actions",{close:c},()=>[r(b,{type:"button",onClick:c},{default:w(()=>[$(m(a.cancelText),1)]),_:1}),r(b,{type:"button",onClick:d[0]||(d[0]=n=>a.onConfirm())},{default:w(()=>[$(m(a.confirmText),1)]),_:1})])])])),[[p]])])):K("",!0)}}}),De=W("game",()=>{const l=s({date:new Date,attempts:0,time:0,pairsFound:0}),e=s([]);function i(c){l.value=c}function o(){e.value.push(l.value),l.value={date:new Date,attempts:0,time:0,pairsFound:0}}return{currentGameStats:l,gameStats:e,setCurrentGameStats:i,newGame:o}}),Se={class:"w-full flex flex-row justify-between gap-4 p-2"},Te=t("img",{src:ae,class:"max-h-16 mx-3"},null,-1),Ge={class:"relative"},Le={class:"flex-col"},ze={class:"text-sm"},je={class:"text-sm"},Ee=t("img",{src:ie,class:"max-h-28"},null,-1),j=60,Ae=6,Ie=y({__name:"GameView",setup(l){const e=De(),i=se(),o=s(null),c=s(null),a=s(null),d=[o,c,a],p=s(!1),n=s(""),h=s(""),{count:v}=L(),{count:g,dec:F}=L(j),k=s(0);z(async()=>{await R(v).toBe(6),B(),D(),p.value=!0,n.value="Juego Terminado",h.value="Se acabaron tus intentos",await R(p).toBe(!1),i.push("/congrats")}),z(async()=>{await R(g).toBe(0),B(),D(),p.value=!0,n.value="Juego Terminado",h.value="Se terminó el tiempo",await R(p).toBe(!1),i.push("/congrats")});const{pause:B,resume:Pe,isActive:Oe}=X(()=>{F()},1e3),D=()=>{e.setCurrentGameStats({date:new Date,attempts:v.value,time:j-g.value,pairsFound:k.value})};return I(()=>{d.forEach((S,_)=>{ee(S,{initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:_*150}}})})}),(S,_)=>{const q=le("RouterLink");return u(),f(N,null,[t("div",{class:"h-dvh w-full overflow-x-hidden overflow-y-hidden grid grid-cols-1 grid-rows-[auto_1fr_auto] justify-items-center place-items-center gap-2",ref_key:"headerRef",ref:o},[t("div",Se,[r(O,{class:"fill-endeavour w-16 h-16 mx-3"}),r(ue,{class:"h-24","pair-count":k.value,"max-pairs":12},null,8,["pair-count"]),Te]),t("div",{class:"w-full h-[0] min-h-full flex flex-col justify-center items-center",ref_key:"gameBoardRef",ref:c},[r(he,{attempts:M(v),"onUpdate:attempts":_[0]||(_[0]=x=>te(v)?v.value=x:null),pairsFound:k.value,"onUpdate:pairsFound":_[1]||(_[1]=x=>k.value=x)},null,8,["attempts","pairsFound"])],512),t("div",{class:"w-full flex flex-row justify-around items-center",ref_key:"footerRef",ref:a},[t("div",Ge,[r(Me,{class:"w-20 h-20 absolute -left-10 -top-4"}),r(_e,{class:"flex-row py-1"},{default:w(()=>[t("div",Le,[t("div",ze,m(M(g))+" segundos",1),t("div",je,"Intentos "+m(M(v))+" / "+m(Ae),1)])]),_:1})]),r(q,{to:"/congrats",custom:""},{default:w(({navigate:x})=>[r(b,{class:"",onClick:x},{default:w(()=>[$("Terminar")]),_:2},1032,["onClick"])]),_:1}),Ee],512)],512),r(Be,{"is-open":p.value,title:n.value,message:h.value,"onOn:modalClose":_[2]||(_[2]=()=>p.value=!1)},{actions:w(({close:x})=>[r(b,{type:"button",onClick:x},{default:w(()=>[$("Aceptar")]),_:2},1032,["onClick"])]),_:1},8,["is-open","title","message"])],64)}}});export{Ie as default};
