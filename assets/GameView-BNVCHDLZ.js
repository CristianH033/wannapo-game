import{d as g,o as l,c,a as t,t as f,b as S,r,w as F,e as b,f as w,g as z,n as H,Q as L,u as A,_ as G,h as V,i as P,F as E,j as q,k as m,l as _,m as n,I as T,p as J,q as Q,s as h,v as M,x as $,y as U,z as Y,A as D,B as Z,C as K,D as W,E as y}from"./index-C_WBv-7H.js";const X="/wannapo-game/assets/bottom-bear-CpjjDp3D.webp",ee={xmlns:"http://www.w3.org/2000/svg",class:"fill-moon-raker stroke-moon-raker-50 stroke-[1rem]",viewBox:"0 0 424.291 312.031"},te=S('<defs><clipPath clipPathUnits="userSpaceOnUse" id="a"><path d="M0 1920h1080V0H0Z" transform="translate(-991.01 -142.849)"></path></clipPath></defs><g clip-path="url(#a)" transform="matrix(1.33333 0 0 -1.33333 882.039 206.038)"><path d="M-352.41 31.152c.637 28.87-22.947 55.567-51.648 58.58-11.891 28.627-48.565 42.674-76.536 29.38-8.961.507-15.9 16.816-27.32 19.51-30.002 15.746-70.765 2.576-85.673-27.96-8.169-11.457-1.316-31.151-20.237-29.844-30.645-10.3-47.224-48.292-33.804-77.748 10.2-25.459 39.808-40.764 66.466-34.389 16.188-17.166 44.372-20.657 64.308-8.113 22.021-30.977 68.204-40.326 100.48-20.14 15.982 8.444 25.822 24.778 34.16 39.423 18.174 10.2 30.014 30.431 29.803 51.301z"></path></g><text x="50%" y="35%" class="fill-moon-raker-50 stroke-moon-raker" dominant-baseline="middle" text-anchor="middle" font-size="5rem" stroke-width=".1rem"> Pares </text>',3),se={x:"50%",y:"60%","alignment-baseline":"baseline",class:"fill-moon-raker-50 stroke-moon-raker","dominant-baseline":"middle","text-anchor":"middle","font-size":"5rem","stroke-width":".1rem"},ae={class:"fill-moon-raker-600"},oe={class:"fill-moon-raker-50"},le=g({__name:"PairCounter",props:{pairCount:{},maxPairs:{}},setup(p){const e=p;return(o,d)=>(l(),c("svg",ee,[te,t("text",se,[t("tspan",ae,f(o.pairCount),1),t("tspan",oe,"/"+f(e.maxPairs),1)])]))}}),ie=["src"],ne=g({__name:"GameTile",props:{tile:{}},setup(p){const e=p,o=r(null),d=r(null),u=r(null);return F(()=>e.tile.isRevealed,s=>{console.log("revealed",s)}),F(()=>e.tile.isMatched,s=>{if(s){const{variant:i}=A(o,{initial:{scale:1},enter:{scale:1.2,transition:{type:"spring",stiffness:350,damping:20,onComplete:()=>{i.value="default"}}},default:{scale:1,transition:{type:"spring",stiffness:350,damping:20}}})}}),(s,i)=>{const a=b("motion");return l(),c("div",{class:H(["w-20 h-20 even:bg-endeavour odd:bg-seagull text-seagull-50 rounded-md outline outline-8 outline-seagull-50 shadow-xl shadow-endeavour-500",{"outline-red-700":e.tile.isRevealed}]),ref_key:"tileRef",ref:o},[e.tile.isRevealed?w((l(),c("img",{key:1,src:e.tile.image,class:"w-full h-full",ref_key:"image",ref:d,initial:{opacity:0},enter:{opacity:1},leave:{opacity:0}},null,8,ie)),[[a]]):w((l(),z(L,{key:0,class:"m-6 fill-seagull-50",ref_key:"qLogoRef",ref:u,initial:{opacity:0},enter:{opacity:1},leave:{opacity:0}},null,512)),[[a]])],2)}}}),re=G(ne,[["__scopeId","data-v-960444e7"]]),ce=g({__name:"GameBoard",setup(p){const e=V(),o=r(null);return P(()=>{}),(d,u)=>{const s=b("motion");return l(),c("div",{class:"max-w-96 w-full h-full grid grid-cols-3 grid-rows-4 justify-items-center place-items-center gap-6 p-6",ref_key:"boardElement",ref:o},[(l(!0),c(E,null,q(m(e).tiles,(i,a)=>w((l(),z(re,{key:i.id,tile:i,onClick:v=>m(e).revealTile(i.id),initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:a*100}}},null,8,["tile","onClick","enter"])),[[s]])),128))],512)}}}),de={class:"transition h-auto text-xl shadow-md outline outline-4 outline-white bg-gradient-to-t from-seagull from-5% via-ebb-500 via-50% to-ebb-500 to-90% text-endeavour rounded-full px-4 py-2 flex flex-row gap-2 justify-center items-center"},fe=g({__name:"Badge",setup(p){return(e,o)=>(l(),c("div",de,[_(e.$slots,"left-icon",{},()=>[n(m(T),{class:"w-4 h-4 -rotate-45 text-light-orchid"})]),_(e.$slots,"default"),_(e.$slots,"right-icon",{},()=>[n(m(T),{class:"w-4 h-4 rotate-45 text-light-orchid"})])]))}}),pe={},ue={viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--noto",preserveAspectRatio:"xMidYMid meet",fill:"#000000"},me=S('<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M118 60.5l3.48 53.01a7.501 7.501 0 0 1-7.49 7.99H14.01c-4.34 0-7.77-3.67-7.49-7.99L10 60.5c3-34 24.18-54 54-54s50 24 54 54z" fill="#CBD7F5"></path><circle cx="64" cy="60.5" r="40" fill="#ffffff"></circle><circle cx="64" cy="60.5" r="40" fill="#ffffff"></circle><path d="M64 20.5c22.09 0 40 17.91 40 40s-17.91 40-40 40s-40-17.91-40-40s17.91-40 40-40m0-3c-23.71 0-43 19.29-43 43s19.29 43 43 43s43-19.29 43-43s-19.29-43-43-43z" fill="#7D6B5F"></path><g fill="none" stroke="#7D6B5F" stroke-width="3" stroke-miterlimit="10"><path d="M64 18.5v8.23"></path><path d="M64 94.27v8.23"></path><path d="M106 60.5h-8.23"></path><path d="M30.23 60.5H22"></path><path d="M64 18.5v8.23"></path><path d="M64 94.27v8.23"></path><path d="M43 24.13l4.11 7.12"></path><path d="M80.89 89.75L85 96.87"></path><g><path d="M43 24.13l4.11 7.12"></path><path d="M80.89 89.75L85 96.87"></path></g><g><path d="M27.63 39.5l7.12 4.11"></path><path d="M93.25 77.39l7.12 4.11"></path></g><g><path d="M85 24.13l-4.11 7.12"></path><path d="M47.11 89.75L43 96.87"></path></g><g><path d="M100.37 39.5l-7.12 4.11"></path><path d="M34.75 77.39l-7.12 4.11"></path></g></g><path d="M64 91.5c-7.18 0-13-5.82-13-13v-35c0-7.18 5.82-13 13-13s13 5.82 13 13v35c0 7.18-5.82 13-13 13z" fill="#DDA6CC"></path><path d="M76.88 42.67c-.55-5.58-3.31-8.85-8.11-11.41c-.5-.27-1.05-.54-1.61-.45c0 0-1.17 42.34-1.17 46.53c0 4.54-.38 9.74-5.56 11.32c-.93.28-1.93.41-2.71.98c3.56 3.1 9.27 2.63 13.12-.09C72.96 88.06 77 85.5 77 74.5" opacity=".52" fill="#7D6B5F"></path><path d="M31.58 97.55c.1.1.2.2.3.31c5.02 5.19 11.56 8.68 16.82 13.62c-2.88.99-6.05.33-8.96-.55c-10.89-3.31-21.21-10.15-26.19-20.39c-1.19-2.44-2.07-5.12-1.83-7.82c.13-1.5.73-3.13 2.1-3.78c1.19-.57 2.67-.21 3.74.56c2.62 1.88 3.91 5.96 5.84 8.55c2.49 3.35 5.28 6.48 8.18 9.5z" fill="#FEFEFF"></path><path d="M109.3 84.9c-7.63 13.26-20.53 23.52-35.33 27.52c3.37 4.12 18.9 3.22 29.97-5.1s14.84-30.31 12.47-37.07c-1.16.33-1.64 1.67-1.99 2.82c-1.24 4.13-2.97 8.1-5.12 11.83z" opacity=".5" fill="#4B71DC"></path><g><path fill="#ff4638" d="M63.5 16.5l-5-10h11z"></path></g></g>',3),he=[me];function _e(p,e){return l(),c("svg",ue,he)}const ge=G(pe,[["render",_e]]),ve={key:0,class:"w-full h-full fixed top-0 left-0 z-30 flex flex-col justify-center items-center"},we={class:"w-full h-full fixed top-0 left-0 bg-endeavour-600/50",initial:{opacity:0},enter:{opacity:1},leave:{opacity:0}},xe={class:"w-full p-6"},ye={class:"text-3xl text-endeavour"},ke={class:"w-full p-6"},Ce={class:"w-full p-6 flex flex-row justify-center items-center"},Me=g({__name:"ModalDialog",props:{isOpen:{type:Boolean,default:!1},title:{default:"Alerta"},message:{default:""},onConfirm:{type:Function,default:()=>{}},onCancel:{type:Function,default:()=>{}},confirmText:{default:"Aceptar"},cancelText:{default:"Cancelar"}},emits:["on:modalClose"],setup(p,{emit:e}){const o=e,d=r(null);J(d,()=>{o("on:modalClose")});const u=()=>{o("on:modalClose")};return(s,i)=>{const a=b("motion");return s.isOpen?(l(),c("div",ve,[w(t("div",we,null,512),[[a]]),w((l(),c("div",{ref_key:"target",ref:d,class:"flex flex-col bg-seagull-200 rounded-2xl z-40 shadow-2xl",initial:{opacity:0,scale:0},enter:{opacity:1,scale:1,transition:{delay:500,duration:500,type:"spring"}},leave:{opacity:0}},[t("div",xe,[_(s.$slots,"header",{},()=>[t("h1",ye,f(s.title),1)])]),t("div",ke,[_(s.$slots,"content",{},()=>[t("p",null,f(s.message),1)])]),t("div",Ce,[_(s.$slots,"actions",{close:u},()=>[n($,{type:"button",onClick:u},{default:h(()=>[M(f(s.cancelText),1)]),_:1}),n($,{type:"button",onClick:i[0]||(i[0]=v=>s.onConfirm())},{default:h(()=>[M(f(s.confirmText),1)]),_:1})])])])),[[a]])])):Q("",!0)}}}),$e={class:"h-28 w-full flex flex-row justify-between gap-8 p-0"},be={class:"w-1/4 flex flex-row justify-start items-center"},Be={class:"w-2/4 flex flex-row justify-center items-center grow"},Re=t("div",{class:"w-1/4 flex flex-row justify-end items-center"},[t("img",{src:K,class:"max-h-full max-w-full"})],-1),je={class:"w-2/3 flex flex-row justify-start items-center"},Fe={class:"flex-col"},Te={class:"text-sm"},De={class:"text-sm"},Se=t("div",{class:"w-1/3 flex flex-row justify-end items-center self-end"},[t("img",{src:X,class:"max-h-full max-w-full w-36"})],-1),Le=g({__name:"GameView",setup(p){const e=V(),o=W(),d=r(null),u=r(null),s=r(null),i=[d,u,s],a=r(!1),v=r(""),k=r(""),{count:C,dec:O}=U(e.getTimelimit),I=Y(()=>e.getAttempts);D(async()=>{await y(I).toBe(e.getAttemptsLimit),B(),R(),a.value=!0,v.value="Juego Terminado",k.value="Se acabaron tus intentos",await y(a).toBe(!1),o.push("/congrats")}),D(async()=>{await y(C).toBe(0),B(),R(),a.value=!0,v.value="Juego Terminado",k.value="Se terminÃ³ el tiempo",await y(a).toBe(!1),o.push("/congrats")});const{pause:B}=Z(()=>{O()},1e3),R=()=>{e.setCurrentGameStats({date:new Date,attempts:e.getAttempts,time:e.getTimelimit-C.value,pairsFound:e.getPairsFound})};return P(()=>{i.forEach((j,x)=>{A(j,{initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:x*150}}})})}),(j,x)=>(l(),c(E,null,[t("div",{class:"h-dvh w-full overflow-x-hidden overflow-y-hidden grid grid-cols-1 grid-rows-[auto_1fr_auto] justify-items-center place-items-center gap-2",ref_key:"headerRef",ref:d},[t("div",$e,[t("div",be,[n(L,{class:"fill-endeavour max-h-full max-w-full w-20 h-20"})]),t("div",Be,[n(le,{class:"scale-125 origin-top max-h-full grow","pair-count":m(e).getPairsFound,"max-pairs":12},null,8,["pair-count"])]),Re]),t("div",{class:"w-full h-[0] min-h-full flex flex-col justify-center items-center",ref_key:"gameBoardRef",ref:u},[n(ce)],512),t("div",{class:"h-20 w-full flex flex-row justify-between gap-2 p-0",ref_key:"footerRef",ref:s},[t("div",je,[n(fe,{class:"flex-row py-1 translate-x-[3rem]"},{"left-icon":h(()=>[n(ge,{class:"w-8 h-8 scale-[3] origin-right"})]),default:h(()=>[t("div",Fe,[t("div",Te,f(m(C))+" segundos",1),t("div",De," Intentos "+f(m(e).attempts)+" / "+f(m(e).getAttemptsLimit),1)])]),_:1})]),Se],512)],512),n(Me,{"is-open":a.value,title:v.value,message:k.value,"onOn:modalClose":x[0]||(x[0]=()=>a.value=!1)},{actions:h(({close:N})=>[n($,{type:"button",onClick:N},{default:h(()=>[M("Aceptar")]),_:2},1032,["onClick"])]),_:1},8,["is-open","title","message"])],64))}});export{Le as default};
